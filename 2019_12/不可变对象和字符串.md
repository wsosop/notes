## 不可变对象和字符串

#### 一：

①• 不可变对象(Immutable Object).**

**1.–一旦创建，这个对象（状态/值）不能被更改了**

**2.–其内在的成员变量的值就不能修改了。**

**3.–典型的不可变对象**
	**• 八个基本型别的包装类的对象**
	**• String，BigInteger和BigDecimal等的对象**

**②•可变对象(Mutable Object)**

**–普通对象**

```java
package com.wck;

/**
 * @author 御香烤翅
 * @create 2019-12-01 20:03
 */
public class StringTest {
    
    public static void main(String[] args) {
        String a= new String("abc");
        String b=a;
        System.out.println(b);//abc
        a ="def";
        System.out. println(b);//abc
    }
}

```

```java
package com.wck;

/**
 * @author 御香烤翅
 * @create 2019-12-01 20:03
 */
public class StringTest {

    public static void change(String b){
        b="def";
    }
    public static void main(String[] args) {
        String a=new String("abc");
        change(a);
        System.out.println(a);//abc
        System.out.println(a);//abc
    }
}

```

以上两个StringTest文件说明：

**• 不可变对象，也是传指针(引用)**

**• 由于不可变，临时变量指向新内存，外部实参的指针不改动**



#### 二：

##### • 如何创建不可变对象

**–immutable对象是不可改变，有改变，请clone/new一个对象进行修改**
**–所有的属性都是final和private的**
**–不提供setter方法**
**–类是final的，或者所有的方法都是final**
**–类中包含mutable（可变）对象，那么返回拷贝需要深度clone**

**• 不可变对象(Immutable Object)优点**
**–只读，线程安全**
**–并发读，提高性能**
**–可以重复使用**
**• 缺点**
**–制造垃圾，浪费空间**



#### 三：

**• 字符串是Java使用最多的类，是一种典型的不可变对象**
**• String定义有2种**
`String a = “abc”;` //常量赋值，栈分配内存
`String b = new String(“abc”);` //new对象，堆分配内存

**• 字符串内容比较：equals方法**
**• 是否指向同一个对象：指针比较 ==**



#### 四：

**Java 常量池(Constant Pool)**
**–保存在编译期间就已经确定的数据**
**–是一块特殊的内存**
**–相同的常量字符串只存储一份，节省内存，共享访问**



